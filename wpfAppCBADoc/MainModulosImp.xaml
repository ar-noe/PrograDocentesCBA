<Window x:Class="wpfAppCBADoc.MainModulosImp"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:wpfAppCBADoc"
        mc:Ignorable="d"
        Title="Sistema CBA - Gestión de Módulos Impartidos" 
        Height="700" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="280"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Menú Lateral -->
        <Border Grid.Column="0" Background="{StaticResource PrimaryBlueBrush}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Logo o Título -->
                <Border Grid.Row="0" Background="{StaticResource DarkBlueBrush}" 
                        Height="100" Padding="20">
                    <Image x:Name="logo" 
                       Source="/images/cba.png"
                       Stretch="Uniform"
                       Height="80"
                       Width="120"/>
                </Border>

                <!-- Opciones del Menú -->
                <StackPanel Grid.Row="1" Margin="10,20">
                    <Button x:Name="btnHorarios" Content="📅 Ver Horarios" 
                            Style="{StaticResource MenuButtonStyle}"
                            Margin="0,2" Height="45"
                            Click="BtnHorarios_Click"/>

                    <Button x:Name="btnDocentes" Content="👨‍🏫 Ver Docentes" 
                            Style="{StaticResource MenuButtonStyle}"
                            Margin="0,2" Height="45"
                            Click="BtnDocentes_Click"/>

                    <Button x:Name="btnModulos" Content="📚 Módulos Impartidos" 
                            Style="{StaticResource MenuButtonStyle}"
                            Margin="0,2" Height="45"
                            Background="{StaticResource LightBlueBrush}"
                            Foreground="{StaticResource DarkTextBrush}"
                            Click="BtnModulos_Click"/>

                    <Button x:Name="btnAulas" Content="🏫 Gestión de Aulas" 
                            Style="{StaticResource MenuButtonStyle}"
                            Margin="0,2" Height="45"
                            Click="BtnAulas_Click"/>
                </StackPanel>

                <!-- Footer -->
                <Border Grid.Row="2" Background="{StaticResource DarkBlueBrush}" 
                        Height="50" Padding="10">
                    <TextBlock Text="Sistema Académico CBA" 
                              Foreground="{StaticResource WhiteBrush}"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center"
                              FontSize="12"/>
                </Border>
            </Grid>
        </Border>

        <!-- Área de Contenido Principal -->
        <Border Grid.Column="1" Background="{StaticResource BackgroundBrush}" 
                Padding="20">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Título Principal -->
                <Border Grid.Row="0" Background="{StaticResource WhiteBrush}" 
                        CornerRadius="8" Padding="20,15" Margin="0,0,0,15"
                        BorderBrush="{StaticResource LightBlueBrush}" 
                        BorderThickness="2">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Gestión de Módulos Impartidos" 
                                  Foreground="{StaticResource DarkTextBrush}"
                                  FontSize="24" FontWeight="Bold"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- Contenido Principal -->
                <Grid Grid.Row="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Formulario para agregar módulos -->
                    <GroupBox Grid.Row="0" Header="Agregar Nuevo Módulo Impartido" 
                              Style="{StaticResource GroupBoxStyle}">
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="10"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Fila 1 -->
                            <Label Grid.Row="0" Grid.Column="0" Content="Docente:" 
                                   Style="{StaticResource FieldLabelStyle}"/>
                            <ComboBox Grid.Row="1" Grid.Column="0" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      x:Name="cmbDocente"
                                      Margin="0,0,5,15" SelectionChanged="cmbDocente_SelectionChanged"/>

                            <Label Grid.Row="0" Grid.Column="1" Content="Módulo:" 
                                   Style="{StaticResource FieldLabelStyle}"/>
                            <ComboBox Grid.Row="1" Grid.Column="1" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      x:Name="cmbModulo"
                                      Margin="5,0,5,15"/>

                            <Label Grid.Row="0" Grid.Column="3" Content="Sucursal:" 
                                   Style="{StaticResource FieldLabelStyle}"/>
                            <ComboBox Grid.Row="1" Grid.Column="3" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      x:Name="cmbSucursal"
                                      Margin="5,0,5,15"
                                      SelectionChanged="CmbSucursal_SelectionChanged"/>

                            <Label Grid.Row="0" Grid.Column="4" Content="Aula:" 
                                   Style="{StaticResource FieldLabelStyle}"/>
                            <ComboBox Grid.Row="1" Grid.Column="4" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      x:Name="cmbAula"
                                      Margin="5,0,0,15"/>
                            <Button x:Name="btnEditClassroom"
                                      Content="Edit"
                                      Grid.Row="0"
                                      Grid.Column="4"
                                      Margin="5"
                                    Width="60"
                                    HorizontalAlignment="Right"
                                      Style="{StaticResource SecondaryButtonStyle}"/>

                            <!-- Fila 2 -->
                            <Label Grid.Row="2" Grid.Column="0" Content="Bimestre:" 
                                   Style="{StaticResource FieldLabelStyle}"/>
                            <ComboBox Grid.Row="3" Grid.Column="0" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      x:Name="cmbBimestre"
                                      Margin="0,0,5,0"/>

                            <!-- Botones -->
                            <StackPanel Grid.Row="3" Grid.Column="3" Grid.ColumnSpan="2" 
                                        Orientation="Horizontal" 
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom">
                                <Button Content="➕ Agregar Módulo" 
                                        Style="{StaticResource PrimaryButtonStyle}"
                                        Click="BtnAgregarModulo_Click"
                                        Margin="0,0,10,0"
                                        Width="160"/>
                                <Button Content="🔄 Limpiar" 
                                        Style="{StaticResource SecondaryButtonStyle}"
                                        Click="BtnLimpiarFormulario_Click"
                                        Width="100"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>

                    <!-- Lista de módulos existentes -->
                    <GroupBox Grid.Row="1" Header="Módulos Impartidos Existentes" 
                              Style="{StaticResource GroupBoxStyle}" Margin="0,15,0,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Barra de búsqueda -->
                            <Border Grid.Row="0" Background="{StaticResource LightGrayBrush}" 
                                    CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                <StackPanel Orientation="Horizontal">
                                    <TextBox x:Name="txtBuscarModulo" 
                                             Style="{StaticResource TextBoxStyle}" 
                                             Width="300" Margin="0,0,10,0"
                                             TextChanged="TxtBuscarModulo_TextChanged"
                                             Background="{StaticResource WhiteBrush}"/>
                                    <Button Content="🔍 Buscar" 
                                            Style="{StaticResource PrimaryButtonStyle}"
                                            Click="BtnBuscarModulo_Click"
                                            Padding="15,8"/>
                                    <Button Content="🔄 Actualizar" 
                                            Style="{StaticResource SecondaryButtonStyle}"
                                            Click="BtnActualizar_Click"
                                            Padding="15,8"
                                            Margin="10,0,0,0"/>
                                </StackPanel>
                            </Border>

                            <!-- DataGrid para mostrar módulos -->
                            <DataGrid Grid.Row="1" x:Name="dgModulos" 
                                      Style="{StaticResource DataGridStyle}"
                                      ColumnHeaderStyle="{StaticResource DataGridColumnHeaderStyle}">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding IdModuloImp}" Width="60"/>
                                    <DataGridTextColumn Header="Docente" Binding="{Binding Docente}" Width="180"/>
                                    <DataGridTextColumn Header="Módulo" Binding="{Binding Modulo}" Width="100"/>
                                    <DataGridTextColumn Header="Curso" Binding="{Binding Curso}" Width="100"/>
                                    <DataGridTextColumn Header="Aula" Binding="{Binding Aula}" Width="100"/>
                                    <DataGridTextColumn Header="Sucursal" Binding="{Binding Sucursal}" Width="120"/>
                                    <DataGridTextColumn Header="Bimestre" Binding="{Binding Bimestre}" Width="100"/>
                                    <DataGridTextColumn Header="Gestión" Binding="{Binding Gestion}" Width="80"/>
                                    <DataGridTemplateColumn Header="Acciones" Width="120">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Button Content="✏️" 
                                                            ToolTip="Editar"
                                                            Style="{StaticResource PrimaryButtonStyle}"
                                                            Padding="8" Margin="2"
                                                            Click="BtnEditarModulo_Click"
                                                            Width="35" Height="30"/>
                                                    <Button Content="🗑️" 
                                                            ToolTip="Eliminar"
                                                            Style="{StaticResource SecondaryButtonStyle}"
                                                            Padding="8" Margin="2"
                                                            Click="BtnEliminarModulo_Click"
                                                            Width="35" Height="30"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </GroupBox>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>